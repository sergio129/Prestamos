<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Préstamos</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Simulador de Préstamos</h1>
        
        <div class="calculator">
            <form id="loan-form">
                <div class="form-group">
                    <label for="monto">Monto del préstamo (COP):</label>
                    <div class="input-icon">
                        <span class="currency-symbol">$</span>
                        <input type="number" id="monto" min="1000" step="1000" value="0" required placeholder="Pesos colombianos">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="plazo">Plazo (meses):</label>
                    <input type="number" id="plazo" min="1" max="360" value="12" required>
                </div>
                
                <div class="form-group">
                    <label for="interes-mensual">Tasa de interés mensual (%):</label>
                    <input type="number" id="interes-mensual" min="0.01" max="10" step="0.01" value="1.5" required>
                    <div class="interest-annual">
                        <span>Tasa anual equivalente: </span>
                        <span id="interes-anual">18.00%</span>
                    </div>
                </div>
                
                <div class="buttons-container">
                    <button type="submit" class="btn">Calcular</button>
                    <button type="button" id="search-btn" class="btn btn-secondary">Buscar Simulaciones</button>
                </div>
            </form>
        </div>
        
        <div class="results hidden" id="results">
            <h2>Resultados de la simulación</h2>
            <div class="result-item">
                <p>Cuota mensual:</p>
                <p id="cuota-mensual">$0</p>
            </div>
            <div class="result-item">
                <p>Total a pagar:</p>
                <p id="total-pagar">$0</p>
            </div>
            <div class="result-item">
                <p>Total intereses:</p>
                <p id="total-intereses">$0</p>
            </div>
            
            <button id="save-btn" class="btn btn-save">Guardar Simulación</button>
            <button id="show-amortization-btn" class="btn btn-info">Ver tabla de amortización</button>
            <p id="save-message" class="hidden">Simulación guardada con éxito</p>
        </div>
        
        <div id="amortization-table-container" class="hidden">
            <h2>Tabla de Amortización</h2>
            <div class="table-responsive">
                <table id="amortization-table">
                    <thead>
                        <tr>
                            <th>Cuota</th>
                            <th>Capital</th>
                            <th>Intereses</th>
                            <th>Pago Mensual</th>
                            <th>Saldo Restante</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Filas de amortización generadas dinámicamente -->
                    </tbody>
                </table>
            </div>
            <button id="hide-amortization-btn" class="btn btn-secondary">Ocultar tabla</button>
        </div>
    </div>
    
    <!-- Modal para guardar simulación (corregido) -->
    <div id="save-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Guardar Simulación</h2>
            <form id="save-form">
                <div class="form-group">
                    <label for="identificacion">Número de Identificación:</label>
                    <input type="text" id="identificacion" required>
                </div>
                <div class="form-group">
                    <label for="nombre">Nombre del Cliente:</label>
                    <input type="text" id="nombre" required>
                </div>
                <button type="submit" class="btn btn-save">Guardar</button>
            </form>
        </div>
    </div>

    <!-- Modal para buscar simulaciones (corregido) -->
    <div id="search-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Buscar Simulaciones</h2>
            <div class="form-group">
                <label for="search-id">Buscar por Identificación:</label>
                <input type="text" id="search-id" placeholder="Ingrese número de identificación">
                <button id="search-id-btn" class="btn btn-secondary">Buscar</button>
            </div>
            <div id="search-results" class="hidden">
                <h3>Simulaciones encontradas</h3>
                <div class="table-responsive">
                    <table id="results-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Monto</th>
                                <th>Plazo</th>
                                <th>Interés</th>
                                <th>Fecha</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Resultados generados dinámicamente -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <script src="simulador.js"></script>
</body>
</html>
